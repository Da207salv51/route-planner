<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Clan Robinson - Imperia 1</title>
    <style>
        :root { --green: #1b5e20; --bg: #f4f7f6; --red: #d32f2f; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 0; display: flex; justify-content: center; }
        .app-container { width: 100%; max-width: 500px; min-height: 100vh; background: white; position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        
        /* Livello 1: Benvenuto */
        #screen-welcome { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; text-align: center; position: absolute; inset: 0; }
        #screen-welcome img { width: 250px; height: auto; margin-bottom: 20px; }
        #screen-welcome h1 { color: var(--green); font-size: 1.8em; margin-bottom: 30px; }
        
        /* Livello 2: Planner */
        #screen-planner { display: none; padding: 20px; }
        
        .card { background: white; border: 1px solid #ddd; border-radius: 15px; padding: 20px; margin-top: 20px; }
        .info-top { display: flex; justify-content: space-between; font-size: 0.8em; color: #666; margin-bottom: 10px; }
        
        label { display: block; font-weight: bold; color: var(--green); margin: 15px 0 5px; }
        input, select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ccc; font-size: 16px; box-sizing: border-box; }
        
        button { width: 100%; padding: 15px; border-radius: 10px; border: none; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-next { background: var(--green); color: white; }
        .btn-gen { background: #0288d1; color: white; margin-top: 10px; }

        /* Scritta Grossa Route Invernale */
        #winter-header { display: none; text-align: center; color: var(--red); font-size: 2.2em; font-weight: 900; margin: 20px 0; border: 4px solid var(--red); padding: 10px; border-radius: 10px; }
        #route-summary { text-align: center; font-weight: bold; font-size: 1.2em; margin-bottom: 20px; }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="app-container">
    
    <div id="screen-welcome">
        <img src="https://i.ibb.co/Ldx90vR/logo-agesci.png" alt="Imperia 1"> 
        <h1>Benvenuti nel preparatore di Route del Clan Robinson</h1>
        <button class="btn-next" onclick="goNext()">AVANTI</button>
    </div>

    <div id="screen-planner">
        <div class="info-top">
            <span id="live-clock"></span>
            <span id="live-date"></span>
        </div>

        <div class="card">
            <label>Data Inizio:</label>
            <input type="date" id="start-date">
            
            <label>Data Fine:</label>
            <input type="date" id="end-date">

            <label>Destinazione (Europa):</label>
            <select id="country">
                <option value="Italia">Italia ðŸ‡®ðŸ‡¹</option>
                <option value="Francia">Francia ðŸ‡«ðŸ‡·</option>
                <option value="Spagna">Spagna ðŸ‡ªðŸ‡¸</option>
                <option value="Germania">Germania ðŸ‡©ðŸ‡ª</option>
                <option value="Svizzera">Svizzera ðŸ‡¨ðŸ‡­</option>
                <option value="Austria">Austria ðŸ‡¦ðŸ‡¹</option>
            </select>

            <button class="btn-gen" onclick="processRoute()">GENERA REPORT</button>
        </div>

        <div id="winter-header">ROUTE INVERNALE</div>
        <div id="route-summary"></div>
    </div>

</div>

<script>
    // Aggiorna Orologio Live
    function updateTime() {
        const now = new Date();
        document.getElementById('live-clock').innerText = now.toLocaleTimeString('it-IT');
        document.getElementById('live-date').innerText = now.toLocaleDateString('it-IT');
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Passaggio al livello successivo
    function goNext() {
        document.getElementById('screen-welcome').style.display = 'none';
        document.getElementById('screen-planner').style.display = 'block';
    }

    // Logica Route
    function processRoute() {
        const start = new Date(document.getElementById('start-date').value);
        const end = new Date(document.getElementById('end-date').value);
        const country = document.getElementById('country').value;

        if (isNaN(start) || isNaN(end)) {
            alert("Per favore, inserisci le date.");
            return;
        }

        const diffTime = Math.abs(end - start);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;

        const winterHeader = document.getElementById('winter-header');
        const summary = document.getElementById('route-summary');

        // Se la route dura 3 giorni (o meno), mostra la scritta grossa
        if (diffDays <= 3) {
            winterHeader.style.display = 'block';
            summary.innerText = `Route di ${diffDays} giorni in ${country}`;
        } else {
            winterHeader.style.display = 'none';
            summary.innerText = `Route estiva di ${diffDays} giorni in ${country}`;
        }
    }
</script>

</body>
</html>

